<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <title>채팅</title>
  <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" rel="stylesheet">
  <link href="/css/chat.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@stomp/stompjs@5.0.0/bundles/stomp.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.0/moment.min.js"></script>
</head>
<body>
<noscript><h2 style="color: #ff0000">Seems your browser doesn't support Javascript! Websocket relies on Javascript being
  enabled. Please enable
  Javascript and reload this page!</h2></noscript>
<div class="container" id="main-content" data-th-fragment="dm">
  <div class="chat-title" id="title">[[${receiver.nickname}]]</div>
  <div class="connect">
    <div class="col-md-6">
      <form id="main-form" class="form-inline">
        <div class="form-group">
          <label for="connect">WebSocket connection:</label>
          <button class="btn btn-default" id="connect" type="submit">Connect</button>
          <button class="btn btn-default" disabled="disabled" id="disconnect" type="submit">Disconnect
          </button>
        </div>
      </form>
    </div>
  </div>
  <div>
    <div class="conversation-container" id="conversation"></div>
  </div>
  <div class="">
    <form class="" enctype="multipart/form-data">
      <div class="chat-input-wrap">
        <label for="photo" class="label-file">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-paperclip" viewBox="0 0 16 16">
            <path d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0z"/>
          </svg>
        </label>
        <input class="form-control file-input" id="photo" name="photo" type="file" style="display:none;">
        <div class="file-count-wrap ml-1">
          <span id="file-count">0</span> files
        </div>

        <input class="form-control input-field" id="message" placeholder="message" type="text">
        <button class="btn btn-default send-button" id="send" type="submit">Send</button>
      </div>
    </form>
  </div>
</div>

<script th:inline="javascript">
  var user = [[${loginUser}]];
  var receiverInfo = [[${receiver}]];
  var chat = [[${chatList}]];
  var roomInfo = [[${room}]];
</script>
<script src="/js/dm.js"></script>

</body>
</html>