<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <title>2조 팀플(스쿨마다 타이틀이 다르기 떄문에 category 적용 해야함)</title>

    <!-- include libraries(jQuery, bootstrap) -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
          rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <!-- include summernote css/js -->
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css"
          rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>

</head>
<body>

<h1 data-th-text="${postNo}">피드</h1>


<form action="update" data-th-action="@{update}" data-th-object="${post}"
      enctype='multipart/form-data'
      method='post'>
    <input type="hidden" data-th-value="*{no}" name="no">
    <input type="hidden" data-th-value="*{schoolNo}" name="schoolNo">

    <textarea data-th-text="${content}" id="summernoteContent" name="content" style="display: none;"></textarea>
    <div>
        <button>변경</button>
         <a data-th-href="@{delete(schoolNo=*{schoolNo}, post_no=${post.no})}">[삭제]</a>
    </div>

</form>
<!-- 공지로 등록하는 체크박스 -->
<label for="gradeMd" id="gradeMdLabel" style="display: none;">공지로 등록</label>
<input type="checkbox" id="gradeMd" name="post" value="1" style="display: none;">
<!-- 게시글 주소 복사 버튼 -->
<button id="copyLinkButton">주소 복사</button>

<!--게시글 신고 href url 걸면 됨-->
<button>게시글 신고</button>

<script>
    $(document).ready(function () {

        // Summernote를 초기화하고 내용을 보여줍니다.
        $('#summernoteContent').summernote({
            height: 300,
            width: 500,
            callbacks: {}
        });

        // 게시글 주소 복사 버튼 클릭 이벤트
        $('#copyLinkButton').click(function () {
            // 현재 페이지의 URL을 가져와 복사합니다.
            var url = window.location.href;
            // 클립보드에 복사할 텍스트를 생성합니다.
            var tempInput = document.createElement('input');
            tempInput.value = url;
            document.body.appendChild(tempInput);
            tempInput.select();
            document.execCommand('copy');
            document.body.removeChild(tempInput);
            // 복사가 완료되었다는 메시지를 출력합니다. (선택 사항)
            alert('게시글 주소가 복사되었습니다.');
        });

        // 서버에서 사용자의 등급 정보를 전달합니다.
        var userGrade = "${userGrade}"; // "매니저" 또는 "부매니저"를 나타내는 값

        // "매니저" 또는 "부매니저"인 경우 체크박스를 보이도록 설정
        if (userGrade === "admin" || userGrade === "sub-admin") {
            $('#gradeMd').show();
            $('#gradeMdLabel').show();
        }



    });

</script>


</body>
</html>

