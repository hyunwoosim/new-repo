<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
	</head>
	<body>
		<div>
			<button
				type="button"
				onclick="openSummernote()"
			>
				수정하기
			</button>
		</div>

		<div>
			<button
				type="button"
				onclick="deletePost()"
			>
				삭제
				<!--        <a data-th-href="@{delete(schoolNo=*{schoolNo}, post_no=${post.no})}">[삭제]</a> -->
			</button>
		</div>

		<div>
			<button id="copyLinkButton">주소 복사</button>
		</div>

		<div>
			<button>게시글 신고</button>
		</div>

		<script>
        $(document).ready(function () {
            // 게시글 주소 복사 버튼 클릭 이벤트
            $('#copyLinkButton').click(function () {
                // 현재 페이지의 URL을 가져와 복사합니다.
                var url = window.location.href;
                // 클립보드에 복사할 텍스트를 생성합니다.
                var tempInput = document.createElement('input');
                tempInput.value = url;
                document.body.appendChild(tempInput);
                tempInput.select();
                document.execCommand('copy');
                document.body.removeChild(tempInput);
                // 복사가 완료되었다는 메시지를 출력합니다.
                alert('게시글 주소가 복사되었습니다.');
            });

            function deletePost(post_no, schoolNo) {
                if (confirm('정말로 삭제하시겠습니까?')) {
                    // 삭제 요청을 보내는 로직을 추가하세요
                    // 예를 들어, AJAX 요청을 사용하여 서버에 삭제를 요청할 수 있습니다.
                    // 여기서는 폼을 서브밋하는 예시를 들겠습니다.
                    $.ajax({
                        type: 'GET',
                        url: '/delete', // 삭제 요청을 보낼 URL을 여기에 입력하세요.
                        data: {
                            post_no: post.no,
                            schoolNo: post.schoolNo,
                        },
                        success: function (response) {
                            // 삭제가 성공적으로 처리되면 원하는 동작을 수행하세요.
                            // 예를 들어, 페이지 새로고침 등을 수행할 수 있습니다.
                            location.reload();
                        },
                        error: function (xhr, status, error) {
                            // 삭제 요청이 실패한 경우 처리할 로직을 여기에 작성하세요.
                            console.error(xhr.responseText);
                        },
                    });
                }
            }
        });
    </script>
	</body>
</html>
